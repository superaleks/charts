command:
  postgresql-connect:
    exec: PGPASSWORD=ComplicatedPassword1234 psql -U user -d test_database
    exit-status: 0
    stderr: [ ]
    timeout: 20000
  postgresql-create-table:
    exec: PGPASSWORD=ComplicatedPassword1234 psql -U user -d test_database -c 'CREATE TABLE new_table_created (id int, first_name VARCHAR(50));'
    exit-status: 0
    stdout:
      - 'CREATE TABLE'
    stderr: [ ]
    timeout: 2000
  postgresql-check-connectivity-and-port:
    exec: pg_isready -d test_database -h localhost -p 5432 -U user
    exit-status: 0
    stdout:
      - 'localhost:5432 - accepting connections'
    stderr: [ ]
    timeout: 2000
  user-id-test:
    exec: if [ "$(id -u)" -eq 0 ]; then exit 1; fi
    exit-status: 0
    stdout: []
    stderr: []  
file:
  /bitnami/postgresql/data:
    filetype: directory
    exists: true
